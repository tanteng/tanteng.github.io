<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.55.6" />

    
    
    

<title>PC站和移动站适配三种方式 • 小谈博客</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="PC站和移动站适配三种方式"/>
<meta name="twitter:description" content="PC站和移动站适配三种方式

目前较流量的PC站与移动站配置方式有三种，百度站在搜索引擎角度将这三种分别称为跳转适配、代码适配和自适应，以下为这三种配置方式的名词解释及异同对比。

1，跳转适配：该方法会利用单独的网址向每种设备提供不同的代码。这种配置会尝试检测用户所使用的设备或ua，然后使用 HTTP 重定向和 Vary HTTP 标头重定向到相应的页面。

2，代码适配：该方法使用相同的网址（不考虑用户所使用的设备），但会根据服务器对用户所用浏览器的了解（ua），针对不同设备类型生成不同版本的 HTML。"/>

<meta property="og:title" content="PC站和移动站适配三种方式" />
<meta property="og:description" content="PC站和移动站适配三种方式

目前较流量的PC站与移动站配置方式有三种，百度站在搜索引擎角度将这三种分别称为跳转适配、代码适配和自适应，以下为这三种配置方式的名词解释及异同对比。

1，跳转适配：该方法会利用单独的网址向每种设备提供不同的代码。这种配置会尝试检测用户所使用的设备或ua，然后使用 HTTP 重定向和 Vary HTTP 标头重定向到相应的页面。

2，代码适配：该方法使用相同的网址（不考虑用户所使用的设备），但会根据服务器对用户所用浏览器的了解（ua），针对不同设备类型生成不同版本的 HTML。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://tanteng.me/2015/06/pc-mobile-adapter/" />
<meta property="article:published_time" content="2015-06-04T04:00:28&#43;00:00"/>
<meta property="article:modified_time" content="2015-06-04T04:00:28&#43;00:00"/>


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.6a83d62c39a364f036df4db1ecd564645635d6c7fc182425cb501218fec485f5.css" integrity="sha256-aoPWLDmjZPA2302x7NVkZFY11sf8GCQly1ASGP7EhfU=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="http://tanteng.me/">小谈博客</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="http://tanteng.me/img/avatar.jpeg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         一个专注 WEB 技术的博客 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">小谈博客</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	<a href="https://facebook.com/tanteng001" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/tanteng" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://instagram.com/tanteng1031" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/tanteng" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2019 TonyTan
  
</div>



  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>PC站和移动站适配三种方式</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jun 4, 2015
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/develop">DEVELOP</a>
              
          
      
    
    
    
    <br/>
    <i class="fas fa-clock"></i> 1 min read
</div>


  </header>
  
  
  <div class="post">
    <h3 id="pc站和移动站适配三种方式">PC站和移动站适配三种方式</h3>

<p>目前较流量的PC站与移动站配置方式有三种，百度站在搜索引擎角度将这三种分别称为跳转适配、代码适配和自适应，以下为这三种配置方式的名词解释及异同对比。</p>

<p>1，<strong>跳转适配</strong>：该方法会利用单独的网址向每种设备提供不同的代码。这种配置会尝试检测用户所使用的设备或<span lang="EN-US">ua</span>，然后使用 <span lang="EN-US">HTTP </span>重定向和 <span lang="EN-US">Vary HTTP </span>标头重定向到相应的页面。</p>

<p>2，<strong>代码适配</strong>：该方法使用相同的网址（不考虑用户所使用的设备），但会根据服务器对用户所用浏览器的了解（<span lang="EN-US">ua</span>），针对不同设备类型生成不同版本的 <span lang="EN-US">HTML</span>。</p>

<p>3，<strong>自适应</strong>：通过同一网址提供相同 <span lang="EN-US">HTML </span>代码的网站设计方法。该方法不考虑用户所使用的设备（<span lang="EN-US">pc</span>、平板电脑、移动设备），但可以根据屏幕尺寸以不同方式呈现（即适应）显示屏。但是这种方式不适合页面内容很多的情况，不然在手机上体验很不好。</p>

<table>
  <tr>
    <td>
    </td>
    
    <td>
      PC、移动网址是否一致
    </td>
    
    <td>
      PC、移动网页代码是否一致
    </td>
  </tr>
  
  <tr>
    <td>
      跳转适配
    </td>
    
    <td>
      否
    </td>
    
    <td>
      否
    </td>
  </tr>
  
  <tr>
    <td>
      代码适配
    </td>
    
    <td>
      是
    </td>
    
    <td>
      否
    </td>
  </tr>
  
  <tr>
    <td>
      自适应
    </td>
    
    <td>
      是
    </td>
    
    <td>
      是
    </td>
  </tr>
</table>

<h3 id="三种配置方式的分析">三种配置方式的分析</h3>

<p>百度仅站在搜索引擎角度对跳转适配、代码适配、自适应这三种配置方式做了一些对比和分析，希望能够帮助站点选择更适合自己、性价比最优的方式来进行移动化。</p>

<table>
  <tr>
    <td>
    </td>
    
    <td>
      跳转适配
    </td>
    
    <td>
      代码适配
    </td>
    
    <td>
      自适应
    </td>
  </tr>
  
  <tr>
    <td>
      复杂程度
    </td>
    
    <td>
      简单到中等。开发独立网站的速度可以非常快。<br /> 小型企业可选用多种自动方案，以近乎实时的速度生成移动网站。
    </td>
    
    <td>
      中到高，取决于网站的复杂程度和您需要创建的代码库数量。<br /> 代码适配所需的开发时间可能较长，且要求服务器端编程
    </td>
    
    <td>
      中。需要使用能随屏幕尺寸而变的流体网格从头开始创建。<br /> 如果网站需求较简单，有许多开源模板可供选择。<br /> 如要构建包含额外编程的复杂的自适应网站，所需的时间会比较长。
    </td>
  </tr>
  
  <tr>
    <td>
      性能
    </td>
    
    <td>
      中。图片和其他网站内容可轻松针对小屏幕优化，但网站重定向经常会导致延迟问题。
    </td>
    
    <td>
      高。可以简化为只包含为相应设备优化的内容，以实现最佳性能。
    </td>
    
    <td>
      高。无任何重定向，但需要有周全的计划才能实现最优的效果。数据量膨胀是最常见的错误。
    </td>
  </tr>
  
  <tr>
    <td>
      维护需求
    </td>
    
    <td>
      中到高。更新主网站后，还必须单独在移动网站上进行更新。
    </td>
    
    <td>
      如果人工维护，将需要大量的资源。许多网站使用内容管理系统来避免这一问题，并自动在所有模板上发布内容。
    </td>
    
    <td>
      低。创建后，更新内容会流向所有设备，维护工作量极低。
    </td>
  </tr>
  
  <tr>
    <td>
      设备
    </td>
    
    <td>
      可专门针对移动用户优化网站。
    </td>
    
    <td>
      单独的文件和服务器端代码（会在向用户传递网页前在您的服务器上运行）可以提供依设备而定的体验。
    </td>
    
    <td>
      所有设备上的用户体验保持一致（一些设备专属的选项可通过服务器端程序添加）。
    </td>
  </tr>
  
  <tr>
    <td>
      是否支持扩展至新平台
    </td>
    
    <td>
      不支持。这是智能手机专用的独立移动网站。新平台无法轻松集成到现有架构中。
    </td>
    
    <td>
      支持。可轻松针对具体的设备（例如智能电视）创建模板，并通过同一个网址投放。
    </td>
    
    <td>
      支持。使用指定的断点和流体网格，可轻松扩展到新平台和新设备。
    </td>
  </tr>
</table>

<h3 id="三种配置方式的优化建议">三种配置方式的优化建议</h3>

<p>1，跳转适配</p>

<p>在此配置中，每个<span lang="EN-US">pc</span>版网址都具有一个对应的不同网址，用于提供针对移动设备进行优化的内容。为了帮助我们的算法了解单独的移动版网址，我们建议您使用以下注释：</p>

<p>在<span lang="EN-US">pc</span>版网页上，添加指向对应移动版网址的特殊链接<span lang="EN-US">rel=&#8221;alternate&#8221; </span>标记。这有助于发现网站的移动版网页所在的位置。</p>

<p>在移动版网页上，添加指向对应<span lang="EN-US">pc</span>版网址的链接 <span lang="EN-US">rel=&#8221;canonical&#8221; </span>标记。</p>

<p>例如，假设<span lang="EN-US">pc</span>版网址为<span lang="EN-US"><a href="http://example.com/page-1">http://example.com/page-1</a></span>，且对应的移动版网址为 <span lang="EN-US"><a href="http://m.example.com/page-1">http://m.example.com/page-1</a></span>，那么此示例中的注释如下所示：</p>

<p>在<span lang="EN-US">pc</span>版网页<span lang="EN-US">(<a href="http://www.example.com/page-1">http://www.example.com/page-1</a>) </span>上，添加：</p>

<p><link rel=&#8221;alternate&#8221; media=&#8221;only screen and(max-width: 640px)&#8221;     href=&#8221;http://m.example.com/page-1&#8243; ></p>

<p>而在移动版网页<span lang="EN-US">(<a href="http://m.example.com/page-1">http://m.example.com/page-1</a>) </span>上，所需的注释应为<span lang="EN-US">:</span></p>

<p><link rel=&#8221;canonical&#8221;href=&#8221;http://www.example.com/page-1&#8243; ></p>

<p>也可以使用原有的开放适配提交方法。<a href="http://zhanzhang.baidu.com/college/courseinfo?id=267&page=15" target="_blank" rel="nofollow"><a href="http://zhanzhang.baidu.com/college/courseinfo?id=267&amp;page=15">http://zhanzhang.baidu.com/college/courseinfo?id=267&amp;page=15</a></a></p>

<p>2，代码适配</p>

<p>为了使百度能够知道当您的页面发生变化时，同时需要用其他的<span lang="EN-US">ua</span>重新抓取一遍，请您添加<span lang="EN-US">Vary HTTP</span>标头。<span lang="EN-US">Vary HTTP </span>标头具有以下两个非常重要且实用的作用：</p>

<p>a) 它会向 ISP 和其他位置使用的缓存服务器表明：在决定是否通过缓存来提供网页时它们应考虑用户代理。如果您没有使用 Vary HTTP 标头，缓存可能会错误地向移动设备用户提供pc版 HTML 网页的缓存（反之亦然）。</p>

<p>b) 它有助于 百度spdier 更快速地发现针对移动设备进行优化的内容，这是因为我们在抓取针对移动内容进行过优化的网址时，会将有效的 Vary HTTP 标头作为抓取信号之一，我们会提高用其他ua抓取此网页的优先级。</p>

<p>示例：</p>

<p><img src="http://bs.baidu.com/zhanzhang/files/012571433221866.jpg" alt="" /></p>

<p>并且在pc的响应的head中添加</p>

<p><meta name=&#8221;applicable-device&#8221; content=&#8221;pc&#8221;></p>

<p>在移动的响应的包头中添加</p>

<p><meta name=&#8221;applicable-device&#8221; content=&#8221;mobile&#8221;></p>

<p>3，自适应</p>

<p>自适应设计有其一般原则：在head添加以下代码并且使用<picture>元素处理自适应图片:</p>

<p><meta name=&#8221;viewport&#8221; content=&#8221;width=device-width, initial-scale=1.0&#8243;></p>

<p>自适应页面还应该在head中标识：</p>

<p><span lang="EN-US"><metaname=&#8221;applicable-device&#8221;content=&#8221;pc,mobile&#8221;></span></p>

<p>表示页面同时适合在移动设备和PC上进行浏览。</p>

<h3 id="关于移动配置-百度不建议的做法">关于移动配置，百度不建议的做法</h3>

<p>1，单一域名下请使用同一种配置方式(跳转适配、代码适配、自适应)，例如，不要把移动站的页面作为pc站网址中的一个子目录来配置。</p>

<p>2，如果使用跳转适配的方式，请不要使用JS对ua进行适配跳转。这种方式存在两个缺点：</p>

<p>a) 对用户：会加大由重定向的客户端造成的延迟；这是因为客户端需要先下载网页，接着解析并执行 JavaScript，然后才能触发重定向。301或302则不会有这个延迟。</p>

<p>b) 对搜索：爬虫也需要使用支持JS渲染的爬虫，才能发现此重定向。</p>
  </div>
  

<div class="navigation navigation-single">
    
    <a href="/2015/06/php-anonymous-function/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">PHP匿名函数</span>
    </a>
    
    
    <a href="/2015/06/cat-tag-exclude/" class="navigation-next">
      <span class="navigation-tittle">WordPress标签云和列表移除指定ID不显示</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    

<script src="https://cdn.bootcss.com/font-awesome/5.5.0/js/all.min.js"></script>

    
    
        <script src="https://cdn.bootcss.com/highlight.js/9.13.1/highlight.min.js"></script>
        
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
