<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.55.6" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>小谈博客 &middot; TonyTan</title>

  
  <link rel="stylesheet" href="http://tanteng.me/css/poole.css">
  <link rel="stylesheet" href="http://tanteng.me/css/hyde.css">
  <link rel="stylesheet" href="http://tanteng.me/css/poole-overrides.css">
  <link rel="stylesheet" href="http://tanteng.me/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://tanteng.me/css/hyde-x.css">
  <link rel="stylesheet" href="http://tanteng.me/css/highlight/sunburst.css">
  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://tanteng.me/touch-icon-144-precomposed.png">
  <link href="http://tanteng.me/favicon.png" rel="icon">

  
  
  
  <link href="http://tanteng.me/index.xml" rel="alternate" type="application/rss+xml" title="小谈博客 &middot; TonyTan" />

  <meta name="description" content="Your default page description">
  <meta name="keywords" content="your,default,page,keywords">
  
</head>
<body class="theme-base-0d">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://tanteng.me/"><h1>小谈博客</h1></a>
      <p class="lead">
       一个专注WEB技术的博客 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://tanteng.me/">Blog</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/tanteng"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a href="https://www.linkedin.com/in/tanteng"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="https://www.instagram.com/tanteng1031"><i class="fa fa-instagram fa-3x"></i></a>
      <a href="https://www.facebook.com/tanteng001"><i class="fa fa-facebook-square fa-3x"></i></a>
      
      
      
      </li>
    </ul>

    

    <p>Copyright &copy; 2019 <a href="http://tanteng.me/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/12/reading-and-maturing-personalities/">阅读与心智的成长</a>
      </h1>
      <span class="post-date">Dec 5, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/%E7%BD%91%E6%91%98%E6%97%A5%E5%BF%97">网摘日志</a><a class="label" href="http://tanteng.me/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记</a>
      </span>
      
      <p>以下摘自《如何阅读一本书》第二十一章。</p>

<p>我们已经完成了在本书一开始时就提出的内容大要。我们已经说明清楚，良好的阅读基础在于主动的阅读。阅读时越主动，就读得越好。</p>

<p><strong>所谓主动的阅读，也就是能提出问题来。</strong>我们也指出在阅读任何一本书时该提出什么样的问题，以及不同种类的书必须怎样以不同的方式回答这些问题。</p>
      <a href="http://tanteng.me/2016/12/reading-and-maturing-personalities/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/12/laravel-env-null/">Laravel 使用 env 读取环境变量为 null 的问题</a>
      </h1>
      <span class="post-date">Dec 4, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/laravel">Laravel</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>不知道大家有没有遇到过，在 Laravel 中（除 app/config 目录下的配置文件中）使用 env 函数读取环境变量，有时有用，有时返回 null，究竟怎么回事？让我们一探究竟。</p>

<p>在 Laravel 项目中，如果执行了 php artisan config:cache 命令把配置文件缓存起来后，在 Tinker 中（Tinker 是 Laravel 自带的一个交互式命令行界面），使用 env 函数读取环境变量的值为 null，只有执行 php artisan config:clear 清除配置缓存后就可以读取了，这是为什么呢？</p>
      <a href="http://tanteng.me/2016/12/laravel-env-null/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/12/road-to-myself/">每个人的生活都是一条通向自身的道路</a>
      </h1>
      <span class="post-date">Dec 2, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/%E7%BD%91%E6%91%98%E6%97%A5%E5%BF%97">网摘日志</a><a class="label" href="http://tanteng.me/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记</a>
      </span>
      
      看到一句话，很有道理：&#8221;每个人的生活都是一条通向自身的道路。每个人的真正职责只有一个：找到自我。” ​​​​
出处：每个人的生命都是通向自我的征途，是对一条道路的尝试，是一条小径的悄然召唤。觉醒的人只有一项义务：找到自我，固守自我，沿着自己的路向前走，不管它通向哪里。——黑塞
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/12/linux-cmd/">Linux 中执行命令 ; 和 &amp;&amp; 的区别</a>
      </h1>
      <span class="post-date">Nov 30, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8">服务器</a>
      </span>
      
      在 Linux 中经常使用到一个命令，如 make &amp;&amp; make install，这里也可以使用 make ; make install，那么在 Linux 中执行命令 ; 和 &amp;&amp; 有何区别？
&amp;&amp; 表示第一个命令执行成功才能执行后面的命令；
; 表示无论第一个命令执行是否成功都执行后面的命令；
还有 ||，cmd a || cmd b，表示前者执行失败了，再执行后者；
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/11/grep-tail-last-line/">grep 查找匹配的最后一行</a>
      </h1>
      <span class="post-date">Nov 20, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8">服务器</a>
      </span>
      
      grep 查找匹配的最后一行，如：
grep "哈哈" aa.log | tail -1 
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/11/php-array-sort-order/">PHP数组同值稳定排序</a>
      </h1>
      <span class="post-date">Nov 16, 2016 &middot; 2 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>在 PHP 中对数组排序有很多函数，如 sort, asort, arsort, ksort, krsort, uasort 等等，但是有一个问题，如一个数组：</p>

<pre class="lang:php decode:true ">$test = array(1 =&gt; 0, 99 =&gt; 0, 87 =&gt; 0, 45 =&gt; 0, 67 =&gt; 0, 11 =&gt; 1, 2 =&gt; 0);</pre>

<p>用 asort 函数对其进行排序，asort($test) 结果如下（转换为 json 格式）：</p>

<pre class="lang:php decode:true ">{"67":0,"2":0,"1":0,"45":0,"87":0,"99":0,"11":1}</pre>

<p>可以看到排序虽然正确，值为 1 的元素排到后面去了，但是值为 0 的元素顺序跟以前不一样了，如何保证 PHP 数组同值元素排序后顺序保持不变呢？</p>
      <a href="http://tanteng.me/2016/11/php-array-sort-order/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/11/flock-write/">PHP写文件加锁</a>
      </h1>
      <span class="post-date">Nov 13, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>用 PHP 的 file_put_contents 函数以追加的方式，循环 10 w 次写文件，耗时很多。因为 file_put_contents 函数每次都要打开文件，写入文件，然后关闭文件。</p>

<p>以下是测试：</p>

<pre class="lang:php decode:true">public function handle()
{
    $testTxt = storage_path('test.txt');
    for ($i = 0; $i &lt; 100000; $i++) {
        $this-&gt;comment('writing...');
        file_put_contents($testTxt, 'wo shi tanteng.' . PHP_EOL, FILE_APPEND);
    }
    $this-&gt;comment('time:' . round(microtime(true) - LARAVEL_START, 2));
}</pre>
      <a href="http://tanteng.me/2016/11/flock-write/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/10/nginx-load-balance-conf/">在不同端口下模拟 Nginx 反向代理和负载均衡</a>
      </h1>
      <span class="post-date">Oct 30, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8">服务器</a>
      </span>
      
      <p>Nginx 是一个轻量级的 WEB 服务器，反向代理服务器和电子邮件服务器，本文介绍在虚拟机中使用不同的端口来模拟不同的服务器，并使用 Nginx 反向代理功能实现服务器负载均衡的效果。</p>
      <a href="http://tanteng.me/2016/10/nginx-load-balance-conf/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/10/php-json-encode-and-decode/">PHP json_encode 数组键是否从0开始并且连续的区别</a>
      </h1>
      <span class="post-date">Oct 28, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>对以下两个数组进行 json_encode 编码，这两个数组的区别是，一个键是从0开始，并且连续，另一个键不连续，那么打印的结果有什么不同呢？</p>

<pre class="lang:php decode:true">print_r(json_encode([
    0 =&gt; 5,
    1 =&gt; 4,
    2 =&gt; 1
]));

print_r(json_encode([
    0 =&gt; 5,
    1 =&gt; 4,
    5 =&gt; 1
]));</pre>

<p>打印结果：</p>

<p>[5,4,1]</p>

<p>{&#8220;0&#8243;:5,&#8221;1&#8243;:4,&#8221;5&#8221;:1}</p>
      <a href="http://tanteng.me/2016/10/php-json-encode-and-decode/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2016/10/nginx-map-redirect/">使用 Nginx map 指令实现页面重定向</a>
      </h1>
      <span class="post-date">Oct 10, 2016 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/%E6%9C%8D%E5%8A%A1%E5%99%A8">服务器</a>
      </span>
      
      <p>有时候网站 URL 规则会进行调整，需求的不断变化也会导致一些旧的 URL 无法访问，这个时候可以使用 Nginx 的 map 指令匹配这些旧的 URL，并重定向到新的 URL 规则，而且这种方式是在 Nginx 层面进行，不会对网站性能产生影响。</p>
      <a href="http://tanteng.me/2016/10/nginx-map-redirect/">Read On &rarr;</a>
      
    </div>
    
    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/13/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/13/">13</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/14/">14</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/15/">15</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/51/">51</a></li>
    
    
    <li class="page-item">
    <a href="/page/15/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/51/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>


<script src="http://tanteng.me/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

