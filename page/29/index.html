<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
	<meta name="generator" content="Hugo 0.55.6" />
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>小谈博客 &middot; TonyTan</title>

  
  <link rel="stylesheet" href="http://tanteng.me/css/poole.css">
  <link rel="stylesheet" href="http://tanteng.me/css/hyde.css">
  <link rel="stylesheet" href="http://tanteng.me/css/poole-overrides.css">
  <link rel="stylesheet" href="http://tanteng.me/css/hyde-overrides.css">
  <link rel="stylesheet" href="http://tanteng.me/css/hyde-x.css">
  <link rel="stylesheet" href="http://tanteng.me/css/highlight/sunburst.css">
  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://tanteng.me/touch-icon-144-precomposed.png">
  <link href="http://tanteng.me/favicon.png" rel="icon">

  
  
  
  <link href="http://tanteng.me/index.xml" rel="alternate" type="application/rss+xml" title="小谈博客 &middot; TonyTan" />

  <meta name="description" content="Your default page description">
  <meta name="keywords" content="your,default,page,keywords">
  
</head>
<body class="theme-base-0d">
<div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="http://tanteng.me/"><h1>小谈博客</h1></a>
      <p class="lead">
       一个专注WEB技术的博客 
      </p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item"><a href="http://tanteng.me/">Blog</a></li>
      
    </ul>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
      <a href="https://github.com/tanteng"><i class="fa fa-github fa-3x"></i></a>
      
      
      <a href="https://www.linkedin.com/in/tanteng"><i class="fa fa-linkedin-square fa-3x"></i></a>
      <a href="https://www.instagram.com/tanteng1031"><i class="fa fa-instagram fa-3x"></i></a>
      <a href="https://www.facebook.com/tanteng001"><i class="fa fa-facebook-square fa-3x"></i></a>
      
      
      
      </li>
    </ul>

    

    <p>Copyright &copy; 2019 <a href="http://tanteng.me/license/">License</a><br/>
       Powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://github.com/zyro/hyde-x">Hyde-X</a></p>

  </div>
</div>


<div class="content container">
  <div class="posts">
    
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/09/php-lower-diff/">PHP变量名区分大小写，函数和方法名不区分大小写</a>
      </h1>
      <span class="post-date">Sep 4, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      PHP变量名区分大小写，函数和方法名不区分大小写
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/python-excption/">Python3异常处理和异常类型</a>
      </h1>
      <span class="post-date">Aug 19, 2015 &middot; 3 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/python3">Python3</a>
      </span>
      
      <h3 id="python的异常处理">Python的异常处理</h3>

<p>如下是使用Python的xlrd模块打款excel文件，这个操作可能会出现异常，使用try捕捉异常，进行处理，防止程序的中断运行，并且记录异常信息到日志。</p>

<pre class="lang:python decode:true ">def save_file(file, filename):
    """
    打开excel文件
    """
    try:
        book = xlrd.open_workbook(file)
        sheet = book.sheet_by_index(0)
    except Exception as e:
        logging.info('错误：{0} 文件：{1}'.format(e, file))
        shutil.copy2(file, './error' + filename)
        return False
    row_nums = sheet.nrows
    col_nums = sheet.ncols</pre>
      <a href="http://tanteng.me/2015/08/python-excption/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/python-for-else/">Python中for循环的else</a>
      </h1>
      <span class="post-date">Aug 17, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/python3">Python3</a>
      </span>
      
      <p class="">
  Python中循环语句for或者while后else表示循环条件不成立的时候执行，如：
</p>

<pre class="lang:python decode:true "># -*- coding:utf-8 -*-
for i in range(10):
    print(i)

    if i == 5:  # 此时不会执行else，当i大于等于10的时候，就不满足for条件，就执行else
        print("Too big - I'm giving up!")
        break
else:
    print("Completed successfully")</pre>
      <a href="http://tanteng.me/2015/08/python-for-else/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/jquery-cookie-base/">jQuery.cookie的基本用法</a>
      </h1>
      <span class="post-date">Aug 14, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/%E5%89%8D%E7%AB%AF">前端</a>
      </span>
      
      <p>jQuery.cookie的基本用法：</p>

<p>Include script <em>after</em> the jQuery library (unless you are packaging scripts somehow else):</p>

<pre class="lang:js decode:true">&lt;script src="/path/to/jquery.cookie.js"&gt;&lt;/script&gt;</pre>

<p>Create session cookie:</p>

<div class="highlight highlight-javascript">
  <pre class="lang:js decode:true">$.cookie('name', 'value');</pre>
</div>
      <a href="http://tanteng.me/2015/08/jquery-cookie-base/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/jquery-cookie/">使用jquery的cookie实例</a>
      </h1>
      <span class="post-date">Aug 13, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/%E5%89%8D%E7%AB%AF">前端</a>
      </span>
      
      <p>jquery的cookie插件可以方便操作cookie，首先引入jquery.cookie.js文件，可以去官网下载。</p>

<pre class="lang:js decode:true">&lt;script type="text/javascript" src="__STATIC__/common/js/jquery.cookie.js"&gt;&lt;/script&gt;</pre>

<p>以下使用jquery的cookie实现一个简单的功能，一个公共栏，可以点击展开或者收缩，第一次进入页面默认展开，第二次以后进入页面默认收缩，但是点击也可以展开。</p>
      <a href="http://tanteng.me/2015/08/jquery-cookie/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/php-float/">PHP浮点数运算精度的问题</a>
      </h1>
      <span class="post-date">Aug 12, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>在用PHP进行浮点数的运算中，遇到一个坑，没有得到预期中的结果，如下代码：</p>

<pre class="lang:php decode:true">$a = 69.1;

$b = $a*100;

$c = $b-6910;</pre>

<p>你猜$c的值是多少？$c输出的值是-9.0949470177293E-13.为什么会这样？</p>
      <a href="http://tanteng.me/2015/08/php-float/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/virtualbox-vagrant/">使用vagrant安装VirtualBox虚拟机说明</a>
      </h1>
      <span class="post-date">Aug 11, 2015 &middot; 3 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p><img class="alignnone size-full wp-image-8553" src="https://blog.tanteng.me/wp-content/uploads/2015/08/111.png" alt="111" width="96" height="173" /></p>

<p>首先安装这个玩意VirtualBox~~</p>

<p><img class="alignnone size-full wp-image-8554" src="https://blog.tanteng.me/wp-content/uploads/2015/08/222.png" alt="222" width="98" height="131" /></p>

<p>然后安装这个玩意vagrant</p>
      <a href="http://tanteng.me/2015/08/virtualbox-vagrant/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/php-closure-demo/">PHP匿名函数的实例</a>
      </h1>
      <span class="post-date">Aug 11, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      PHP5.3起就支持匿名函数，可以放心在生产环境中使用，对于PHP的很多新特性该用的地方要大胆使用，可以使代码更简洁，功能实现也更加方便。
以下是PHP匿名函数的一个小的简单实例：
function func($list,$u_wangwang) { //匿名函数，获取其他行联号 $other_num = function($num){ $num = explode('.', $num); return $num[0]; }; $res = $other_num($v['sb_other_num']); return $res; } 首先在方法里定义了一个匿名函数，有一个参数，然后调用的时候进行传参。
      
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/redis-lock/">使用Redis防止重复提交</a>
      </h1>
      <span class="post-date">Aug 11, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>使用Redis可以很方便的防止表单或者按钮重复提交，给动作加锁，在一定时间内不能再次执行。</p>

<pre class="lang:php decode:true ">//防止重复提交
$lock_nopay = 'nopay_'.$sb_id.$sb_uid.$pay_money;
if(!$this-&gt;lock(10,$lock_nopay)){
    $this-&gt;error("当前取消打款操作尚未完成，请勿重复操作！");
}</pre>

<p>这里调用lock方法，锁定10秒钟，10秒钟内如果再次提交就中断操作，认为是重复提交。</p>
      <a href="http://tanteng.me/2015/08/redis-lock/">Read On &rarr;</a>
      
    </div>
    
    <div class="post">
      <h1 class="post-title">
        <a href="http://tanteng.me/2015/08/php-httpsqs/">PHP队列服务HTTPSQS的安装和使用</a>
      </h1>
      <span class="post-date">Aug 11, 2015 &middot; 1 minute read
      
      <br/>
      <a class="label" href="http://tanteng.me/categories/develop">Develop</a><a class="label" href="http://tanteng.me/categories/php">PHP</a>
      </span>
      
      <p>HTTPSQS(HTTP Simple Queue Service)是一个基于HTTP GET/POST请求的简单队列服务。<figure id="attachment_8542" style="width: 500px" class="wp-caption alignnone"></p>

<p><a href="https://blog.tanteng.me/wp-content/uploads/2015/08/httpsqs_elements.png" target="_blank"><img class="wp-image-8542 size-full" src="https://blog.tanteng.me/wp-content/uploads/2015/08/httpsqs_elements.png" alt="PHP队列服务HTTPSQS的安装和使用" width="500" height="503" srcset="https://blog.tanteng.me/wp-content/uploads/2015/08/httpsqs_elements.png 500w, https://blog.tanteng.me/wp-content/uploads/2015/08/httpsqs_elements-150x150.png 150w, https://blog.tanteng.me/wp-content/uploads/2015/08/httpsqs_elements-298x300.png 298w" sizes="(max-width: 500px) 100vw, 500px" /></a><figcaption class="wp-caption-text">PHP队列原理图</figcaption></figure></p>
      <a href="http://tanteng.me/2015/08/php-httpsqs/">Read On &rarr;</a>
      
    </div>
    
    

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/28/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/28/">28</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/29/">29</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/30/">30</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/51/">51</a></li>
    
    
    <li class="page-item">
    <a href="/page/30/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/51/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

  </div>
</div>


<script src="http://tanteng.me/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>

