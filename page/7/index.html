<!DOCTYPE html>
<html lang="en-us">
    
  <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.55.6" />

    

<title>小谈博客</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="小谈博客"/>
<meta name="twitter:description" content="一个专注 WEB 技术的博客"/>

<meta property="og:title" content="小谈博客" />
<meta property="og:description" content="一个专注 WEB 技术的博客" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://tanteng.me/" />

<meta property="og:updated_time" content="2019-02-03T15:30:05&#43;00:00"/>


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.5908340ec0d0531feb30d45d7ab9a057fcd461f5bda26b1c817b70b1565424bb.css" integrity="sha256-WQg0DsDQUx/rMNRdermgV/zUYfW9omscgXtwsVZUJLs=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    <link rel="alternate" type="application/rss+xml" href="http://tanteng.me/index.xml" title="小谈博客" />

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="http://tanteng.me/">小谈博客</a>
      </span>
      
        
        
        
        <div class="author-image">
          <img src="http://tanteng.me/img/avatar.jpeg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
         一个专注 WEB 技术的博客 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">小谈博客</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	<a href="https://facebook.com/tanteng001" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/tanteng" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://instagram.com/tanteng1031" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/tanteng" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2019 TonyTan
  
</div>



  </div>
</div>

        <div class="content container">
            
  <div class="post-list">
    
    
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/redis-ip-limit/" >Redis 实现访问频次限制的几种方式</a>
        </span>
        <span class="item__date">
          Oct 25, 2017
        </span>
        <span >
        
        链接： https://www.cnblogs.com/gavanwanggw/p/7240675.html
        
        </span>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/php-intval-precision/" >PHP intval 转换浮点数精度丢失问题</a>
        </span>
        <span class="item__date">
          Oct 15, 2017
        </span>
        <span >
        
        <p>在 PHP 和其他一些语言都会存在这个问题，转换浮点数为整数的时候会出现精度丢失，如下：</p>

<pre><code>$n=&quot;19.99&quot;; print intval($n*100); // prints 1998
</code></pre>

<h3 id="解决办法">解决办法：</h3>

<p>1.转换成字符串再 intval</p>

<pre><code class="language-php">print intval(strval($n*100)); // prints 1999
</code></pre>

<p>2.使用 round 函数替代 floatval</p>

<pre><code class="language-php">php -r &quot;echo round(19.99*100);&quot;
</code></pre>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/10/php-intval-precision/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/docker-laravel-local-environment/" >使用 Docker 搭建 Laravel 本地环境</a>
        </span>
        <span class="item__date">
          Oct 14, 2017
        </span>
        <span >
        
        <p>Laravel 官方提供 Homestead 和 Valet 作为本地开发环境，Homestead 是一个官方预封装的 Vagrant Box，也就是一个虚拟机，但是跟 docker 比，它占用体积太大，启动速度慢，同时响应速度很慢，现在有了 docker 这种更好的方式，可以轻松方便的搭建整套 PHP 开发环境。</p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/10/docker-laravel-local-environment/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/mysql-rand-range/" >MySQL 生成给定范围随机数</a>
        </span>
        <span class="item__date">
          Oct 9, 2017
        </span>
        <span >
        
        <p>MySQL 的 rand() 函数是随机生成区间为 [0,1) 的浮点数，那么如何让它生成给定两个整数之间的随机数呢？试了一下这样可行：</p>

<p><code class="lang:mysql decode:true">select ROUND(RAND()*(10-1)+1);</code></p>

<p>也就是：</p>

<p><code class="lang:default decode:true">select ROUND(RAND()*(max-min)+min);</code></p>

<p>经测可行。</p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/10/mysql-rand-range/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/503-service-unavailable/" >服务器返回 502,503,504 原因及解决办法</a>
        </span>
        <span class="item__date">
          Oct 8, 2017
        </span>
        <span >
        
        <h3 id="502-bad-gateway">502 bad gateway</h3>

<p>问题原因：服务器作为网关或代理，从上游服务器收到无效响应。</p>

<p>nginx 在这里充当的是反向代理服务器的角色，是把http协议请求转成fastcgi协议的请求，通过 fastcgi_pass指令传递给 php-fpm进程，当 php-fpm 进程响应的内容是 nginx 无法理解的响应，就会返回 502 bad gateway</p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/10/503-service-unavailable/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/computer-concepts-in-life/" >计算机的一些概念在生活中的场景</a>
        </span>
        <span class="item__date">
          Oct 8, 2017
        </span>
        <span >
        
        <p>计算机中有很多概念和思想看上去很抽象，在生活中都可以找到对应的场景，反过来也是，只不过生活中的场景比较形象，当你把计算机中的概念和生活场景联系起来，其实发现解决问题的思路都很相似。</p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/10/computer-concepts-in-life/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/10/checking-whether-the-c-compiler-works-no/" >macOS 使用 brew 安装编译错误</a>
        </span>
        <span class="item__date">
          Oct 6, 2017
        </span>
        <span >
        
        <p>在使用 Mac 的 brew 安装一些工具的时候报错：checking whether the C compiler works&#8230; no，如图，这是怎么回事呢？？</p>

<p><a href="https://blog.tanteng.me/wp-content/uploads/2018/10/WX20181006-195406@2x.png" target="_blank" rel="noopener"><img class="aligncenter wp-image-12633 size-full" src="https://blog.tanteng.me/wp-content/uploads/2018/10/WX20181006-195406@2x.png" alt="checking whether the C compiler works... no" width="1460" height="874" /></a></p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/10/checking-whether-the-c-compiler-works-no/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/09/laradock-ssh-workspace/" >Laradock 使用 ssh 方式连接 workspace</a>
        </span>
        <span class="item__date">
          Sep 21, 2017
        </span>
        <span >
        
        <p>最近在学习 Docker，发现 Laradock 这个项目，它是以 docker-compose 方式快速搭建一整套 PHP 开发环境的镜像，可以按需启动需要的容器，包括 MySQL，Redis，Nginx，Memcache，RabbitMQ，Mongo 等一系列 WEB 开发需要的软件。</p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/09/laradock-ssh-workspace/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/09/debug-backtrace-php/" >PHP 调试函数 debug_backtrace</a>
        </span>
        <span class="item__date">
          Sep 11, 2017
        </span>
        <span >
        
        <p>有时候我们想知道这个函数或方法的调用堆栈，也就是它是如何一级一级是被调用到的，可以用 PHP 的 debug_backtrace 函数打印，就像这样：</p>

<p><code class="lang:php decode:true ">public function update(Request $request, $id)
{
    dd(debug_backtrace());
    $getGameID = function ($request) {
        if (!$request-&gt;game_id) {
            return 1000 + intval($request-&gt;id);
        }
        return $request-&gt;game_id;
    };</p>

<pre><code>$previews = $this-&amp;gt;getGamePreviews($request-&amp;gt;game_preview);

$request-&amp;gt;merge([
    'game_preview' =&amp;gt; json_encode($previews),
    'game_id'      =&amp;gt; $getGameID($request)
]);
EgretGame::where('id', $id)-&amp;gt;update($request-&amp;gt;except(['_token', '_method']));
return redirect()-&amp;gt;route('egretgame.index')-&amp;gt;with('success', '编辑成功！');
</code></pre>

<p>}</code></p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/09/debug-backtrace-php/">➦</a>
        
        </div>
        
     
      
        
      
      <div class="post-list__item">
        <span class="item__title--big">
          <a href="/2017/09/laravel-session-scheme/" >Laravel Sessionid 处理机制</a>
        </span>
        <span class="item__date">
          Sep 11, 2017
        </span>
        <span >
        
        <p>在 Laravel 的配置文件 config/session.php 中可以设置 Session Cookie Name，比如这个项目中设置名称为“sns_session”：</p>

<p><code class="lang:php decode:true ">/*
|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;
| Session Cookie Name
|&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;
|
| Here you may change the name of the cookie used to identify a session
| instance by ID. The name specified here will get used every time a
| new session cookie is created by the framework for every driver.
|
*/</p>

<p>&lsquo;cookie&rsquo; =&gt; &lsquo;sns_session&rsquo;,</code></p>

<p>我们可以看到刷新页面，查看 cookie，会发现一个名称为 sns_session 的 cookie，名字就是我们自定义的。</p>

<p>这个 sessionid 就是 cookie 和 session 联系的桥梁，服务器通过这个 sessionid 判断来自哪个客户端的请求。</p>
        
        </span>
        
          ... <a class="read-more-symbol" href="/2017/09/laravel-session-scheme/">➦</a>
        
        </div>
        
     
  </div>
  

<ul class="pagination">
    
    <li class="page-item">
        <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item">
    <a href="/page/6/" class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/2/">2</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/3/">3</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/6/">6</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/page/7/">7</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/8/">8</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item disabled"><span aria-hidden="true">&nbsp;&hellip;&nbsp;</span></li>
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/page/47/">47</a></li>
    
    
    <li class="page-item">
    <a href="/page/8/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/page/47/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>


        </div>
        
  
  <script src="https://cdn.bootcss.com/font-awesome/5.5.0/js/all.min.js"></script>

    </body>
</html>
